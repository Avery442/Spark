<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Spark Websocket API</title>
	<link rel="stylesheet" href="/css/lib/bulma.min.css">
	<link rel="stylesheet" href="/css/styles.css">
	
	<!-- Syntax Highlighting -->
	<link rel="stylesheet" href="/css/lib/prism.css">
	
	<style>
	</style>
</head>

<body>
<section class="hero is-medium">
	<div class="hero-body" style="background-color: #0003;padding: 4rem 1.5rem; overflow: hidden">
		<div class="container has-text-centered">
			<h1>Spark Websocket API</h1>
			<img style="float:left;width: 10em;position: absolute;left: 10em;bottom: 0;opacity: .1;transform: scale(6); z-index: -1"
				 src="/img/ignite_logo.png">
			<p class="subtitle" style="font-size: 1.2em;">
				Subscribe to events in the browser. This makes event-driven overlays very simple.
			</p>
		</div>
	</div>
</section>
<div class="content" style="max-width: 60em; margin: auto;">

	<nav class="breadcrumb" aria-label="breadcrumbs">
		<ul>
			<li><a href="/">Home</a></li>
			<li><a href="/game_data">Game Stats</a></li>
			<li class="is-active"><a href="#" aria-current="page">Websockets</a></li>
		</ul>
	</nav>

	<div class="box">
		This API allows you to subscribe to any number of events and immediately get a custom json response back with
		information about that event. This is more efficient and more responsive than a polling-based approach, and it
		makes organization much simpler. Without this feature, event detection and parsing would have to happen in the
		browser, but Spark already does this, so why not share the data.

		<br>
		<h3>List of available events:</h3>
		<ul>
			<li>pause</li>
			<li>goal</li>
			<li>save</li>
			<li>steal</li>
			<li>stun</li>
			<li>joust</li>
		</ul>
		<h3>List of events that immediately respond with the current state, then send updates on change:</h3>
		<ul>
			<li>team_names (this also includes team logos)</li>
		</ul>

		<h3>Usage:</h3>
		<pre><code class="language-js">
&lt;script src="/js/spark_websocket.js"&gt;&lt;/script&gt;
			
&lt;script&gt;
	// initialize the websocket connection
	let sw = new SparkWebsocket();
	
	// subscribe to any number of events and supply a callback
	sw.subscribe("goal", data => {
		// process the event here
		console.log(data);
	});
	sw.subscribe("joust", data => {
		console.log(data);
	});
&lt;/script&gt;
		</code></pre>

	</div>
</div>


<script src="/js/lib/prism.js"></script>
</body>

</html>